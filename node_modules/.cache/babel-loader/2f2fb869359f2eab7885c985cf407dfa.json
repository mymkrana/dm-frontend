{"ast":null,"code":"import axios from \"axios\";\n\nvar Cookies = require(\"js-cookie\");\n\nexport var uploadPortfolio = function uploadPortfolio(data) {\n  return new Promise(function (resolve, reject) {\n    // var data = new FormData()\n    // data.append('pic', file)\n    var pdata = new FormData();\n    pdata.append(\"portfolio_metadata\", data.portfolio_metadata);\n    pdata.append(\"media[]\", data.media);\n    var headers = {\n      session: JSON.stringify(Cookies.getJSON())\n    };\n    console.log(data.media);\n    var formAxios = axios.create({\n      transformRequest: [function (data, headers) {\n        if (headers['Content-Type'] && headers['Content-Type'].startsWith('multipart/form-data')) {\n          var _ret = function () {\n            var form = new FormData();\n\n            for (var key in data) {\n              var value = data[key];\n\n              if (Array.isArray(value)) {\n                (function () {\n                  var arrayKey = \"\".concat(key, \"[]\");\n                  value.forEach(function (v) {\n                    form.append(arrayKey, v);\n                  });\n                })();\n              } else {\n                form.append(key, value);\n              }\n            }\n\n            return {\n              v: form\n            };\n          }();\n\n          if (typeof _ret === \"object\") return _ret.v;\n        }\n\n        return data;\n      }]\n    });\n    axios.post(\"https://designmocha-dev.el.r.appspot.com/designer/portfolio/\", pdata, {\n      headers: headers\n    }).then(function (res) {\n      resolve(res);\n    }).catch(function (error) {\n      reject(error);\n    });\n  });\n};","map":{"version":3,"sources":["C:/Ajay N/Projects/dm-frontend/src/services/uploadPortfolio.js"],"names":["axios","Cookies","require","uploadPortfolio","data","Promise","resolve","reject","pdata","FormData","append","portfolio_metadata","media","headers","session","JSON","stringify","getJSON","console","log","formAxios","create","transformRequest","startsWith","form","key","value","Array","isArray","arrayKey","forEach","v","post","then","res","catch","error"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AACA,IAAIC,OAAO,GAAGC,OAAO,CAAC,WAAD,CAArB;;AACA,OAAO,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,IAAD,EAAU;AACrC,SAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpC;AACA;AACA,QAAIC,KAAK,GAAG,IAAIC,QAAJ,EAAZ;AACAD,IAAAA,KAAK,CAACE,MAAN,CAAa,oBAAb,EAAmCN,IAAI,CAACO,kBAAxC;AACAH,IAAAA,KAAK,CAACE,MAAN,CAAa,SAAb,EAAwBN,IAAI,CAACQ,KAA7B;AACA,QAAIC,OAAO,GAAG;AACVC,MAAAA,OAAO,EAAEC,IAAI,CAACC,SAAL,CAAef,OAAO,CAACgB,OAAR,EAAf;AADC,KAAd;AAGAC,IAAAA,OAAO,CAACC,GAAR,CAAYf,IAAI,CAACQ,KAAjB;AACI,QAAMQ,SAAS,GAAGpB,KAAK,CAACqB,MAAN,CAAa;AAC/BC,MAAAA,gBAAgB,EAAE,CAAC,UAAUlB,IAAV,EAAgBS,OAAhB,EAAyB;AACxC,YAAIA,OAAO,CAAC,cAAD,CAAP,IAA2BA,OAAO,CAAC,cAAD,CAAP,CAAwBU,UAAxB,CAAmC,qBAAnC,CAA/B,EAA0F;AAAA;AACtF,gBAAMC,IAAI,GAAG,IAAIf,QAAJ,EAAb;;AACA,iBAAK,IAAMgB,GAAX,IAAkBrB,IAAlB,EAAwB;AACpB,kBAAMsB,KAAK,GAAGtB,IAAI,CAACqB,GAAD,CAAlB;;AACA,kBAAIE,KAAK,CAACC,OAAN,CAAcF,KAAd,CAAJ,EAA0B;AAAA;AACtB,sBAAMG,QAAQ,aAAMJ,GAAN,OAAd;AACAC,kBAAAA,KAAK,CAACI,OAAN,CAAc,UAAAC,CAAC,EAAI;AACfP,oBAAAA,IAAI,CAACd,MAAL,CAAYmB,QAAZ,EAAsBE,CAAtB;AACH,mBAFD;AAFsB;AAKzB,eALD,MAKM;AACFP,gBAAAA,IAAI,CAACd,MAAL,CAAYe,GAAZ,EAAiBC,KAAjB;AACH;AACJ;;AACD;AAAA,iBAAOF;AAAP;AAbsF;;AAAA;AAczF;;AAED,eAAOpB,IAAP;AACH,OAlBiB;AADa,KAAb,CAAlB;AAqBJJ,IAAAA,KAAK,CAACgC,IAAN,CAAW,8DAAX,EAA2ExB,KAA3E,EAAkF;AAAEK,MAAAA,OAAO,EAAEA;AAAX,KAAlF,EACKoB,IADL,CACU,UAACC,GAAD,EAAS;AACX5B,MAAAA,OAAO,CAAC4B,GAAD,CAAP;AACH,KAHL,EAIKC,KAJL,CAIW,UAACC,KAAD,EAAW;AACd7B,MAAAA,MAAM,CAAC6B,KAAD,CAAN;AACH,KANL;AAOH,GAtCM,CAAP;AAuCH,CAxCM","sourcesContent":["import axios from \"axios\"\r\nvar Cookies = require(\"js-cookie\")\r\nexport const uploadPortfolio = (data) => {\r\n    return new Promise((resolve, reject) => {\r\n        // var data = new FormData()\r\n        // data.append('pic', file)\r\n        var pdata = new FormData()\r\n        pdata.append(\"portfolio_metadata\", data.portfolio_metadata)\r\n        pdata.append(\"media[]\", data.media)\r\n        var headers = {\r\n            session: JSON.stringify(Cookies.getJSON())\r\n        }\r\n        console.log(data.media)\r\n            const formAxios = axios.create({\r\n            transformRequest: [function (data, headers) {\r\n                if (headers['Content-Type'] && headers['Content-Type'].startsWith('multipart/form-data')) {\r\n                    const form = new FormData();\r\n                    for (const key in data) {\r\n                        const value = data[key];\r\n                        if (Array.isArray(value)) {\r\n                            const arrayKey = `${key}[]`;\r\n                            value.forEach(v => {\r\n                                form.append(arrayKey, v);\r\n                            });\r\n                        } else{\r\n                            form.append(key, value);\r\n                        }\r\n                    }\r\n                    return form;\r\n                }\r\n        \r\n                return data;\r\n            }],\r\n        });\r\n        axios.post(\"https://designmocha-dev.el.r.appspot.com/designer/portfolio/\", pdata, { headers: headers })\r\n            .then((res) => {\r\n                resolve(res)\r\n            })\r\n            .catch((error) => {\r\n                reject(error)\r\n            })\r\n    })\r\n}"]},"metadata":{},"sourceType":"module"}