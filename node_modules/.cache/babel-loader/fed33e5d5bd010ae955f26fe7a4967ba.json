{"ast":null,"code":"import _regeneratorRuntime from\"D:/Ajay N/dm-client-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _defineProperty from\"D:/Ajay N/dm-client-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _asyncToGenerator from\"D:/Ajay N/dm-client-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"D:/Ajay N/dm-client-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/Ajay N/dm-client-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"D:/Ajay N/dm-client-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/Ajay N/dm-client-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{Nav}from'react-bootstrap';import'../css/login.css';import{Link}from'react-router-dom';import{LoginMe}from'../services/LoginMe';import{getSession}from'../services/getSession';// import loader from '../images/loader.gif'\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=/*#__PURE__*/function(_React$Component){_inherits(Login,_React$Component);var _super=_createSuper(Login);function Login(props){var _this;_classCallCheck(this,Login);_this=_super.call(this,props);_this.handleChange=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _this.setState(_defineProperty({},e.target.name,e.target.value));case 2:_this.setState({successMessage:\"\"});case 3:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.formSubmit=function(e){e.preventDefault();_this.setState({isloading:true,successMessage:\"\"});var data={password:_this.state.password,email:_this.state.email};LoginMe(data).then(function(res){if(res.status===200){console.log(res.data.token);var headers={'Content-Type':'application/json','Authorization':\"Bearer \"+res.data.token};getSession(headers).then(function(response){console.log(response.data);_this.setState({successMessage:\"Login Successful\",isloggedin:true,isloading:false});}).catch(function(err){console.log(err);_this.setState({successMessage:\"Something went wrong\",isloading:false});});}}).catch(function(err){if(err.response){if(err.response.data.general){_this.setState({successMessage:err.response.data.general,isloading:false});}else{_this.setState({successMessage:\"something went wrong\",isloading:false});}}else{_this.setState({successMessage:\"something went wrong\",isloading:false});}});};_this.state={isloggedin:false};return _this;}_createClass(Login,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"logsection signup\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row itemcenter\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-6 center \",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"sectionwel\",children:[\"WELCOME TO \",/*#__PURE__*/_jsx(\"br\",{}),\"DESIGNMOCHA.\"]}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"btn my-btn sbtn\",children:\"Back To Home \"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-6 form\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"lflex\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.formSubmit,children:[!this.state.successMessage?'':/*#__PURE__*/_jsx(\"p\",{className:\"text-color\",children:this.state.successMessage}),!this.state.isloading?'':/*#__PURE__*/_jsx(\"p\",{className:\"text-color\",children:\"Loading please wait..\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputEmail1\",className:\"fotmlab\",children:\"EMAIL ADDRESS\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"email\",className:\"form-control\",id:\"exampleInputEmail1\",\"aria-describedby\":\"emailHelp\",placeholder:\"jdoe123@gmail.com\",onChange:this.handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputPassword1\",className:\"fotmlab\",children:\"PASSWORD\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",className:\"form-control\",id:\"exampleInputPassword1\",placeholder:\"*********\",onChange:this.handleChange,required:true})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn form\",disabled:this.state.isloading,children:\"Login\"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"btn form a\",children:\"If you haven't member \"}),/*#__PURE__*/_jsx(Link,{to:\"reset-password\",className:\"d-block text-color mt-4\",children:\"Forgot password ?\"})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"flow\",children:[\" or connect with -\",/*#__PURE__*/_jsx(Nav.Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"i\",{className:\"cl fa fa-facebook\",\"aria-hidden\":\"true\"})}),/*#__PURE__*/_jsx(Nav.Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"i\",{className:\"cl fa fa-instagram\",\"aria-hidden\":\"true\"})}),/*#__PURE__*/_jsx(Nav.Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"i\",{className:\"cl fa fa-twitter\",\"aria-hidden\":\"true\"})}),/*#__PURE__*/_jsx(Nav.Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"i\",{className:\"cl fa fa-pinterest-p\",\"aria-hidden\":\"true\"})})]})]})})]})})})});}}]);return Login;}(React.Component);export default Login;","map":{"version":3,"sources":["D:/Ajay N/dm-client-master/src/component/Login.js"],"names":["React","Nav","Link","LoginMe","getSession","Login","props","handleChange","e","setState","target","name","value","successMessage","formSubmit","preventDefault","isloading","data","password","state","email","then","res","status","console","log","token","headers","response","isloggedin","catch","err","general","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Nav } from 'react-bootstrap';\nimport '../css/login.css'\nimport { Link } from 'react-router-dom'\nimport { LoginMe } from '../services/LoginMe';\nimport { getSession } from '../services/getSession'\n// import loader from '../images/loader.gif'\nclass Login extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            isloggedin: false\n        };\n    }\n    handleChange = async (e) => {\n        await this.setState({ [e.target.name]: e.target.value })\n        this.setState({ successMessage: \"\" })\n    }\n    formSubmit = (e) => {\n        e.preventDefault();\n        this.setState({ isloading: true, successMessage: \"\" })\n        var data = {\n            password: this.state.password,\n            email: this.state.email\n        }\n        LoginMe(data).then((res) => {\n            if (res.status === 200) {\n                console.log(res.data.token)\n                const headers = {\n                    'Content-Type': 'application/json',\n                    'Authorization':\"Bearer \" + res.data.token\n                  }\n                getSession(headers)\n                .then((response) => {\n                    console.log(response.data)\n                    this.setState({ successMessage: \"Login Successful\", isloggedin: true, isloading: false })\n                })\n                .catch((err) => {\n                    console.log(err)\n                    this.setState({ successMessage: \"Something went wrong\", isloading: false})\n                })\n            }\n        }).catch((err) => {\n            if (err.response) {\n                if (err.response.data.general) {\n                    this.setState({ successMessage: err.response.data.general, isloading: false })\n                }\n                else {\n                    this.setState({ successMessage: \"something went wrong\", isloading: false })\n                }\n            }\n            else {\n                this.setState({ successMessage: \"something went wrong\", isloading: false })\n            }\n        })\n    }\n    render() {\n        return (\n            <div>\n                {/* {this.state.isloading ? (<div className=\"loader\"><img src = {loader} alt=\"loader\"/></div>) : ''} */}\n                <div className=\"logsection signup\">\n                    <div className=\"container\">\n                        <div className=\"row itemcenter\">\n                            <div className=\"col-sm-6 center \">\n                                <h4 className=\"sectionwel\">WELCOME TO <br />DESIGNMOCHA.</h4>\n                                <Link to=\"/\" className=\"btn my-btn sbtn\">Back To Home </Link>\n                            </div>\n                            <div className=\"col-sm-6 form\">\n                                <div className=\"lflex\">\n                                    <form onSubmit={this.formSubmit}>\n                                        {!this.state.successMessage ? '' : (<p className=\"text-color\">{this.state.successMessage}</p>)}\n                                        {!this.state.isloading ? '' : (<p className=\"text-color\">Loading please wait..</p>)}\n                                        <div className=\"form-group\">\n                                            <label htmlFor=\"exampleInputEmail1\" className=\"fotmlab\">EMAIL ADDRESS</label>\n                                            <input type=\"text\" name='email' className=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" placeholder=\"jdoe123@gmail.com\" onChange={this.handleChange} required />\n                                        </div>\n                                        <div className=\"form-group\">\n                                            <label htmlFor=\"exampleInputPassword1\" className=\"fotmlab\">PASSWORD</label>\n                                            <input type=\"password\" name='password' className=\"form-control\" id=\"exampleInputPassword1\" placeholder=\"*********\" onChange={this.handleChange} required />\n                                        </div><br />\n                                        <button type=\"submit\" className=\"btn form\" disabled={this.state.isloading}>Login</button>\n                                        <Link to=\"/register\" className=\"btn form a\">If you haven't member </Link>\n                                        <Link to='reset-password' className='d-block text-color mt-4'>Forgot password ?</Link>\n                                    </form>\n                                    <span className=\"flow\"> or connect with -\n                                        <Nav.Link to=\"/\"><i className=\"cl fa fa-facebook\" aria-hidden=\"true\"></i></Nav.Link>\n                                        <Nav.Link to=\"/\"><i className=\"cl fa fa-instagram\" aria-hidden=\"true\"></i></Nav.Link>\n                                        <Nav.Link to=\"/\"><i className=\"cl fa fa-twitter\" aria-hidden=\"true\"></i></Nav.Link>\n                                        <Nav.Link to=\"/\"><i className=\"cl fa fa-pinterest-p\" aria-hidden=\"true\"></i></Nav.Link>\n                                    </span>\n                                </div>\n                            </div>\n                        </div>\n\n                    </div>\n\n                </div>\n            </div>\n        );\n    }\n}\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}