{"ast":null,"code":"import axios from \"axios\";\n\nvar Cookies = require(\"js-cookie\");\n\nexport const uploadPortfolio = (data, progress) => {\n  return new Promise((resolve, reject) => {\n    // var data = new FormData()\n    // data.append('pic', file)\n    var pdata = new FormData();\n    pdata.append(\"portfolio_metadata\", data.portfolio_metadata);\n    data.media.map(media => {\n      pdata.append(\"media\", media);\n      return true;\n    });\n    var headers = {\n      session: JSON.stringify(Cookies.getJSON())\n    };\n    console.log(data.media);\n    axios.post(\"https://designmocha-dev.el.r.appspot.com/designer/portfolio/\", pdata, {\n      headers: headers,\n      onUploadProgress: function (progressEvent) {\n        var percentCompleted = Math.round(progressEvent.loaded * 100 / progressEvent.total);\n        progress(percentCompleted);\n      }\n    }).then(res => {\n      resolve(res);\n    }).catch(error => {\n      reject(error);\n    });\n  });\n};","map":{"version":3,"sources":["C:/Ajay N/Projects/dm-frontend/src/services/uploadPortfolio.js"],"names":["axios","Cookies","require","uploadPortfolio","data","progress","Promise","resolve","reject","pdata","FormData","append","portfolio_metadata","media","map","headers","session","JSON","stringify","getJSON","console","log","post","onUploadProgress","progressEvent","percentCompleted","Math","round","loaded","total","then","res","catch","error"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AACA,IAAIC,OAAO,GAAGC,OAAO,CAAC,WAAD,CAArB;;AACA,OAAO,MAAMC,eAAe,GAAG,CAACC,IAAD,EAAOC,QAAP,KAAoB;AAC/C,SAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACpC;AACA;AACA,QAAIC,KAAK,GAAG,IAAIC,QAAJ,EAAZ;AACAD,IAAAA,KAAK,CAACE,MAAN,CAAa,oBAAb,EAAmCP,IAAI,CAACQ,kBAAxC;AACAR,IAAAA,IAAI,CAACS,KAAL,CAAWC,GAAX,CAAgBD,KAAD,IAAW;AACtBJ,MAAAA,KAAK,CAACE,MAAN,CAAa,OAAb,EAAsBE,KAAtB;AACA,aAAO,IAAP;AACH,KAHD;AAKA,QAAIE,OAAO,GAAG;AACVC,MAAAA,OAAO,EAAEC,IAAI,CAACC,SAAL,CAAejB,OAAO,CAACkB,OAAR,EAAf;AADC,KAAd;AAGAC,IAAAA,OAAO,CAACC,GAAR,CAAYjB,IAAI,CAACS,KAAjB;AACAb,IAAAA,KAAK,CAACsB,IAAN,CAAW,8DAAX,EAA2Eb,KAA3E,EAAkF;AAC9EM,MAAAA,OAAO,EAAEA,OADqE;AAC5DQ,MAAAA,gBAAgB,EAAE,UAAUC,aAAV,EAAyB;AACzD,YAAIC,gBAAgB,GAAGC,IAAI,CAACC,KAAL,CAAYH,aAAa,CAACI,MAAd,GAAuB,GAAxB,GAA+BJ,aAAa,CAACK,KAAxD,CAAvB;AACAxB,QAAAA,QAAQ,CAACoB,gBAAD,CAAR;AACH;AAJ6E,KAAlF,EAMKK,IANL,CAMWC,GAAD,IAAS;AACXxB,MAAAA,OAAO,CAACwB,GAAD,CAAP;AACH,KARL,EASKC,KATL,CASYC,KAAD,IAAW;AACdzB,MAAAA,MAAM,CAACyB,KAAD,CAAN;AACH,KAXL;AAYH,GA1BM,CAAP;AA2BH,CA5BM","sourcesContent":["import axios from \"axios\"\r\nvar Cookies = require(\"js-cookie\")\r\nexport const uploadPortfolio = (data, progress) => {\r\n    return new Promise((resolve, reject) => {\r\n        // var data = new FormData()\r\n        // data.append('pic', file)\r\n        var pdata = new FormData()\r\n        pdata.append(\"portfolio_metadata\", data.portfolio_metadata)\r\n        data.media.map((media) => {\r\n            pdata.append(\"media\", media)\r\n            return true\r\n        })\r\n\r\n        var headers = {\r\n            session: JSON.stringify(Cookies.getJSON())\r\n        }\r\n        console.log(data.media)\r\n        axios.post(\"https://designmocha-dev.el.r.appspot.com/designer/portfolio/\", pdata, {\r\n            headers: headers, onUploadProgress: function (progressEvent) {\r\n                var percentCompleted = Math.round((progressEvent.loaded * 100) / progressEvent.total)\r\n                progress(percentCompleted)\r\n            }\r\n        })\r\n            .then((res) => {\r\n                resolve(res)\r\n            })\r\n            .catch((error) => {\r\n                reject(error)\r\n            })\r\n    })\r\n}"]},"metadata":{},"sourceType":"module"}